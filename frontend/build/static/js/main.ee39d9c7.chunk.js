(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(0),s=n(22),c=n.n(s),o=n(39),i=n(65),l=n(66),u=n(55),d="USER_LOGIN_REQUEST",j="USER_LOGIN_SUCCESS",p="USER_LOGIN_FAIL",b="USER_LOGOUT",h="USER_REGISTER_REQUEST",O="USER_REGISTER_SUCCESS",f="USER_REGISTER_FAIL",m="USER_REGISTER_RESET",x="USER_DETAILS_REQUEST",g="USER_DETAILS_SUCCESS",v="USER_DETAILS_FAIL",y="USER_UPDATE_PROFILE_REQUEST",E="USER_UPDATE_PROFILE_SUCCESS",S="USER_UPDATE_PROFILE_FAIL",L="USER_LIST_REQUEST",w="USER_LIST_SUCCESS",C="USER_LIST_FAIL",I="USER_LIST_RESET",_="USER_DELETE_REQUEST",T="USER_DELETE_SUCCESS",U="USER_LIST_FAIL",R="USER_UPDATE_REQUEST",k="USER_UPDATE_SUCCESS",D="USER_UPDATE_FAIL",N="USER_UPDATE_RESET",A="TODO_ADD_REQUEST",P="TODO_ADD_SUCCESS",G="TODO_ADD_FAIL",F="TODO_LIST_REQUEST",B="TODO_LIST_SUCCESS",Q="TODO_LIST_FAIL",z="TODO_DELETE_REQUEST",J="TODO_DELETE_SUCCESS",H="TODO_DELETE_FAIL",M=Object(o.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case j:return{loading:!1,userInfo:t.payload};case p:return{loading:!1,error:t.payload};case b:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case O:return{loading:!1,success:!0,userInfo:t.payload};case f:return{loading:!1,error:t.payload};case m:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case g:return{loading:!1,user:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case E:return{loading:!1,success:!0,userInfo:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case w:return{loading:!1,users:t.payload};case C:return{loading:!1,error:t.payload};case I:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case T:return{loading:!1,success:!0};case U:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case k:return{loading:!1,success:!0};case D:return{loading:!1,error:t.payload};case N:return{user:{}};default:return e}},todoAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case P:return{loading:!1,success:!0,todoList:t.payload};case G:return{loading:!1,error:t.payload};default:return e}},todoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case B:return{loading:!1,success:!0,todoListData:t.payload};case Q:return{error:t.payload};default:return e}},todoDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case J:return{loading:!1,success:!0};case H:return{error:t.payload};default:return e}}}),W={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},q=[i.a],K=Object(o.createStore)(M,W,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,q))),V=(n(78),n(79),n(80),n(42)),X=n(11),Y=n(114),Z=n(120),$=n(121),ee=n(118),te=n(25),ne=n(9),ae=n.n(ne),re=n(17),se=n(20),ce=n.n(se),oe=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:x}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.get("/api/users/".concat(e),c);case 6:o=t.sent,i=o.data,n({type:g,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:v,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},ie=n(1),le=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.userLogin})).userInfo;return Object(ie.jsx)("header",{children:Object(ie.jsx)(Z.a,{variant:"dark",bg:"dark",className:"mb-5 p-2",expand:"lg",collapseOnSelect:!0,children:Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(te.LinkContainer,{to:"/",children:Object(ie.jsx)(Z.a.Brand,{children:"Todo APP"})}),Object(ie.jsx)(Z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(ie.jsx)(Z.a.Collapse,{id:"basic-navbar-nav",children:Object(ie.jsxs)($.a,{className:"m-auto",children:[t?Object(ie.jsxs)(ee.a,{title:t.name,id:"username",children:[Object(ie.jsx)(te.LinkContainer,{to:"/user/profile",children:Object(ie.jsx)(ee.a.Item,{children:"Profile"})}),Object(ie.jsx)(ee.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:b}),e({type:I})}))},children:"Logout"})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(te.LinkContainer,{to:"/",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 fas fa-home"})," Home"]})}),Object(ie.jsx)(te.LinkContainer,{to:"/register",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 far fa-edit"}),"Registration"]})}),Object(ie.jsx)(te.LinkContainer,{to:"/login",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 fas fa-fingerprint"}),"Login"]})})]}),t&&"admin"===t.role&&Object(ie.jsx)(ee.a,{title:t.role+"Panel",id:"adminmenu",children:Object(ie.jsx)(te.LinkContainer,{to:"/admin/user/list",children:Object(ie.jsx)(ee.a.Item,{children:"Users"})})}),t&&"client"===t.role&&Object(ie.jsx)(ee.a,{title:t.role+"Panel",id:"clientmenu",children:Object(ie.jsx)(te.LinkContainer,{to:"/user/todo",children:Object(ie.jsx)(ee.a.Item,{children:"To do List"})})})]})})]})})})},ue=function(){return Object(ie.jsxs)("div",{className:"col-9 mx-auto",children:[Object(ie.jsx)("h1",{children:"Todo App"}),Object(ie.jsx)("p",{children:"An application that helps you write your to do list."})]})},de=n(10),je=n(119),pe=n(69),be=n(122),he=function(e){var t=e.variant,n=e.children;return Object(ie.jsx)(be.a,{variant:t,children:n})};he.defaultProps={variant:"info"};var Oe=he,fe=n(115),me=function(e){var t=e.variant,n=e.size;return Object(ie.jsx)(fe.a,{variant:t,animation:"border",role:"status",size:n,as:"span",style:{margin:"auto",display:"block"},children:Object(ie.jsx)("span",{className:"sr-only",children:"Loading..."})})},xe=function(e){var t=e.location,n=e.history,s=Object(a.b)(),c=Object(r.useState)(""),o=Object(de.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(""),d=Object(de.a)(u,2),p=d[0],b=d[1],x=Object(r.useState)(""),g=Object(de.a)(x,2),v=g[0],y=g[1],E=Object(r.useState)(""),S=Object(de.a)(E,2),L=S[0],w=S[1],C=Object(r.useState)(""),I=Object(de.a)(C,2),_=I[0],T=I[1],U=Object(r.useState)(null),R=Object(de.a)(U,2),k=R[0],D=R[1],N=Object(a.c)((function(e){return e.userRegister})),A=N.loading,P=N.error,G=N.success,F=N.userInfo,B=t.search?t.search.split("=")[1]:"/user/profile";Object(r.useEffect)((function(){F&&(n.push(B),s({type:m}))}),[s,n,G,F]);return Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),L!==_?D("Passwords do not match"):s(function(e,t,n,a){return function(){var r=Object(re.a)(ae.a.mark((function r(s,c){var o,i,l;return ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:h}),o={headers:{"Content-Type":"application/json"}},r.next=5,ce.a.post("/api/users",{email:e,name:t,username:n,password:a},o);case 5:i=r.sent,l=i.data,s({type:O,payload:l}),s({type:j,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),s({type:f,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}(i,p,v,L))},children:[Object(ie.jsx)("h3",{children:P}),k?Object(ie.jsx)(Oe,{variant:"outline-warning text-danger",children:k}):A&&Object(ie.jsx)(me,{}),Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter email",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:p,onChange:function(e){return b(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:L,onChange:function(e){return w(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"confirmPassword",children:[Object(ie.jsx)(je.a.Label,{children:"Confirm Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Confirm your password",value:_,onChange:function(e){return T(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:"Register"})]})},ge=n(123),ve=function(e){var t=e.history,n=Object(r.useState)(""),s=Object(de.a)(n,2),c=s[0],o=s[1],i=Object(r.useState)(""),l=Object(de.a)(i,2),u=l[0],d=l[1],j=Object(r.useState)(""),p=Object(de.a)(j,2),b=p[0],h=p[1],O=Object(r.useState)(""),f=Object(de.a)(O,2),m=f[0],x=f[1],g=Object(r.useState)(""),v=Object(de.a)(g,2),L=v[0],w=v[1],C=Object(r.useState)(null),I=Object(de.a)(C,2),_=I[0],T=I[1],U=Object(a.b)(),R=Object(a.c)((function(e){return e.userDetails})),k=R.loading,D=R.error,N=R.user,A=Object(a.c)((function(e){return e.userLogin})).userInfo,P=Object(a.c)((function(e){return e.userUpdateProfile})).success;Object(r.useEffect)((function(){A?N.name?(o(N.email),d(N.name),h(N.username)):U(oe("profile")):t.push("/login")}),[U,t,A,N]);return Object(ie.jsxs)(Y.a,{children:[k&&Object(ie.jsx)(me,{}),Object(ie.jsxs)(ge.a,{className:"w-50 border-0 border-0 shadow p-2 mb-5 my-5  rounded",children:[Object(ie.jsxs)(ge.a.Title,{className:"text-center mt-3 h1",children:[_&&Object(ie.jsx)(Oe,{variant:"danger",children:_}),D?Object(ie.jsx)(Oe,{variant:"danger",children:D}):P&&Object(ie.jsx)(Oe,{variant:"success",children:"Profile Updated"}),k&&Object(ie.jsx)(me,{})]}),Object(ie.jsx)(ge.a.Body,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),m!==L?T("Passwords do not match"):(U(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:y}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.put("/api/users/profile",e,c);case 6:o=t.sent,i=o.data,n({type:E,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:S,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:N._id,email:c,name:u,username:b,password:m})),setTimeout((function(){window.location.reload()}),3e3))},children:[Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"email",placeholder:"Enter a valid Email",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"confirmPassword",children:[Object(ie.jsx)(je.a.Label,{children:"Confirm Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Confirm your password",value:L,onChange:function(e){return w(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",block:!0,type:"submit",children:"Update"})]})})]})]})},ye=n(116),Ee=n(70),Se=n(117),Le=function(e){var t=e.history,n=Object(a.b)(),s=Object(a.c)((function(e){return e.userList})),c=s.loading,o=s.error,i=s.users,l=Object(a.c)((function(e){return e.userLogin})).userInfo,u=Object(a.c)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){l&&"admin"===l.role?n(function(){var e=Object(re.a)(ae.a.mark((function e(t,n){var a,r,s,c,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),a=n(),r=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,ce.a.get("/api/users",s);case 6:c=e.sent,o=c.data,t({type:w,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:C,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()):t.push("/user/login")}),[l,n,t,u]);var d=function(e){window.confirm("Are  you sure you want to  delete this user?")&&n(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:_}),r=a(),s=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.delete("/api/users/".concat(e),c);case 6:n({type:T}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:U,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(Ee.a,{sm:6,md:6,lg:6,children:Object(ie.jsx)("h1",{children:"User Records"})}),Object(ie.jsx)(Ee.a,{className:"text-right ",sm:6,md:6,lg:6,children:Object(ie.jsxs)(pe.a,{className:"my-3",variant:"warning",onClick:function(){t.push("/user/register")},children:[Object(ie.jsx)("i",{className:"fas fa-plus  px-1"}),"Create New User"]})})]}),c?Object(ie.jsx)(me,{}):o?Object(ie.jsx)(Oe,{variant:"danger",children:o}):Object(ie.jsxs)(Se.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",children:[Object(ie.jsx)("thead",{className:"bg-dark text-warning",children:Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{children:"ID"}),Object(ie.jsx)("th",{children:"Email"}),Object(ie.jsx)("th",{children:"Name"}),Object(ie.jsx)("th",{children:"Username"}),Object(ie.jsx)("th",{children:"Role"}),Object(ie.jsx)("th",{children:"Edit"})]})}),Object(ie.jsx)("tbody",{children:i.map((function(e){return Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("td",{children:e._id}),Object(ie.jsx)("td",{children:Object(ie.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(ie.jsx)("td",{children:e.name}),Object(ie.jsx)("td",{children:e.username}),Object(ie.jsx)("td",{children:"admin"===e.role?Object(ie.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(ie.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ie.jsxs)("td",{children:[Object(ie.jsx)(te.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(ie.jsx)(pe.a,{variant:"light",className:"btn-sm  mx-1",children:Object(ie.jsx)("i",{className:"fas fa-edit"})})}),Object(ie.jsx)(pe.a,{variant:"outline-danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(ie.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},we=function(e){var t=e.location,n=e.history,s=Object(r.useState)(""),c=Object(de.a)(s,2),o=c[0],i=c[1],l=Object(r.useState)(""),u=Object(de.a)(l,2),b=u[0],h=u[1],O=Object(a.b)(),f=Object(a.c)((function(e){return e.userLogin})),m=f.loading,x=f.error,g=f.userInfo,v=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){x&&(i(""),h("")),g&&n.push(v)}),[n,g,x,v]);return Object(ie.jsx)(Y.a,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),O(function(e,t){return function(){var n=Object(re.a)(ae.a.mark((function n(a){var r,s,c;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:d}),r={headers:{"Content-Type":"application/json"}},n.next=5,ce.a.post("/api/users/login",{username:e,password:t,config:r});case 5:s=n.sent,c=s.data,a({type:j,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:p,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,b))},className:"my-1 ",children:[Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:m?Object(ie.jsx)(me,{}):Object(ie.jsx)("span",{children:"Login"})})]})})},Ce=function(e){var t=e.match,n=e.history,s=t.params.id,c=Object(r.useState)(""),o=Object(de.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(""),d=Object(de.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)(""),h=Object(de.a)(b,2),O=h[0],f=h[1],m=Object(r.useState)(" "),x=Object(de.a)(m,2),v=x[0],y=x[1],E=Object(a.b)(),S=Object(a.c)((function(e){return e.userDetails})).user,L=Object(a.c)((function(e){return e.userLogin})).userInfo,w=Object(a.c)((function(e){return e.userUpdate})).success;Object(r.useEffect)((function(){L&&"admin"!==!L.role||n.push("/login"),w?(E({type:N}),n.push("/admin/user/list")):S.name&&S._id===s?(l(S.email),p(S.name),f(S.username),y(S.role)):E(oe(s))}),[L,E,n,s,S,w]);return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),E(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:R}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.put("/api/users/".concat(e._id),e,c);case 6:o=t.sent,i=o.data,n({type:k}),n({type:g,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:D,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({_id:s,name:j,email:i,role:v}))},children:[Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"email",placeholder:"Enter a valid Email",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"role",children:[Object(ie.jsx)(je.a.Label,{children:"Role"}),Object(ie.jsxs)(je.a.Control,{as:"select",value:v,onChange:function(e){return y(e.target.value)},children:[Object(ie.jsx)("option",{children:"admin"}),Object(ie.jsx)("option",{children:"client"})]})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:"Update"})]})})},Ie=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().userLogin.userInfo,n({type:A}),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,ce.a.post("/api/todos",{content:e,owner:r._id,user:r,config:s});case 6:c=t.sent,o=c.data,n({type:P,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(re.a)(ae.a.mark((function e(t,n){var a,r,s,c,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),a={headers:{"Content-Type":"application/json"}},r=n(),s=r.userLogin.userInfo,e.next=6,ce.a.get("/api/todos/".concat(s._id),a);case 6:c=e.sent,o=c.data,t({type:B,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Q,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:z}),r=e._id,s=e.owner,c=a(),o=c.todoList.todoListData,{headers:{"Content-Type":"application/json"}},t.next=7,ce.a.delete("/api/todos/".concat(r,"&").concat(s));case 7:i=t.sent,i.data,201==i.status&&(o.splice(o.indexOf(e),1),n({type:J})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:Q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()},Ue=(n(106),function(e){var t=e.history,n=Object(a.c)((function(e){return e.userDetails})),s=(n.loading,n.error,n.user),c=Object(a.c)((function(e){return e.userLogin})).userInfo,o=Object(a.b)(),i=function(){var e=Object(re.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Te(t));case 2:return e.next=4,o(_e());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(r.useState)(""),u=Object(de.a)(l,2),d=u[0],j=u[1],p=function(){var e=Object(re.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,o(Ie(d));case 3:o(_e()),j("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(a.c)((function(e){return e.todoDelete.loading}))&&Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("label",{className:"col",children:"Deleting "}),Object(ie.jsx)(me,{className:"col"})]}),h=Object(a.c)((function(e){return e.todoAdd.loading}))&&Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("label",{className:"col",children:"Adding "}),Object(ie.jsx)(me,{className:"col"})]}),O=Object(a.c)((function(e){return e.todoList.loading}))&&Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("label",{className:"col",children:"Preparing your to do list "}),Object(ie.jsx)(me,{className:"col"})]});Object(r.useEffect)((function(){c?o(_e()):t.push("/login")}),[o,t,c,s]);var f=Object(a.c)((function(e){return e.todoList.todoListData})),m=f?f.map((function(e,t){return Object(ie.jsxs)("div",{className:"border rounded-1 row my-2 p-2",children:[Object(ie.jsx)("p",{className:"col",children:e.content}),Object(ie.jsx)("button",{type:"button",onClick:function(){return i(e)},className:"btn btn-danger col-auto btn-sm",children:"done"})]},e._id)})):"";return Object(ie.jsxs)("div",{className:"col-9 mx-auto",children:[b,h,Object(ie.jsxs)("div",{className:"row my-3",children:[Object(ie.jsx)("input",{type:"textarea",controlId:"content",value:d,onChange:function(e){return j(e.target.value)},className:"col form-control me-3",placeholder:"write anything"}),Object(ie.jsx)("button",{type:"button",className:"btn btn-primary col-auto",onClick:p,children:"Add"})]}),Object(ie.jsx)("div",{className:"row mb-3",children:Object(ie.jsx)("h1",{className:"col",children:"To do List"})}),O,Object(ie.jsx)("div",{children:m})]})}),Re=function(){return Object(ie.jsx)(V.BrowserRouter,{children:Object(ie.jsxs)("main",{children:[Object(ie.jsx)(le,{}),Object(ie.jsx)(X.d,{path:"/",component:ue,exact:!0}),Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(X.d,{path:"/register",component:xe}),Object(ie.jsx)(X.d,{path:"/login",component:we}),Object(ie.jsx)(X.d,{path:"/user/profile",component:ve}),Object(ie.jsx)(X.d,{path:"/user/todo",component:Ue}),Object(ie.jsx)(X.d,{path:"/admin/user/:id/edit",component:Ce}),Object(ie.jsx)(X.d,{path:"/admin/user/list",component:Le})]})]})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(ie.jsx)(a.a,{store:K,children:Object(ie.jsx)(Re,{})}),document.getElementById("root")),ke()},79:function(e,t,n){},80:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.ee39d9c7.chunk.js.map